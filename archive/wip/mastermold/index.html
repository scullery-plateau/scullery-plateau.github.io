<!DOCTYPE html>
<html>
  <head>
    <title>Mastermold Paper Minis</title>
    <style type="text/css">
      @media screen {
        #print {
          display: none;
        }
      }
      @media print {
        #ctrl, #canvas {
          display: none;
        }
      }
      svg {
        page-break-after: always;
        margin: 0.25in 0.25in 0in 0.25in;
      }
      img {
        max-width: 100px;
        max-height: 100px;
      }
      @page {
        size: portrait;
        margin: 0;
      }
    </style>
    <script src="../../common/script/util/file.js"></script>
    <script src="../../common/script/util/registry.js"></script>
    <script type="text/javascript">
      window.registry = new Registry();
    </script>
    <script src="script/mastermold.js"></script>
    <script src="script/selector.js"></script>
    <script type="text/javascript">
      var ids = {
        'fileLoader':'loadfile',
        'imageGallery':'gallery',
        'imageSelector':'imageSelector',
        'standingCheck':'standingCheck',
        'tokenCheck':'tokenCheck',
        'centerX':'centerX',
        'centerY':'centerY',
        'radius':'radius',
        'sizeSelector':'size',
        'frameColorPicker':'frameColor',
        'selectedDisplay':'selected',
        'frameDisplay':'frame',
        'printer':'print',
      }
      window.Mastermold = registry.invoke("Mastermold");
    </script>
  </head>
  <body onload="window.mastermold = new Mastermold(ids,'mastermold')">
    <div id="ctrl">
      <h2>Mastermold Paper Mini Builder</h2>
      <p>This tool is meant to be used to build paper minis.</p>
      <div id="loadsave">
        <label for="loadfile">File: </label>
        <input id="loadfile" type="file" multiple/>
        <button onclick="mastermold.addFiles()">Load</button>
        <br/>
        <div id="gallery"></div>
        <br/>
        <select id="imageSelector" onchange="mastermold.selectImage()"></select>
        <br/>
        <label for="standingCheck">Standing?<input id="standingCheck" type="checkbox" onclick="mastermold.update(this)"/></label>
        <br/>
        <fieldset>
          <legend><label for="tokenCheck">Token?<input id="tokenCheck" type="checkbox" onclick="mastermold.update(this)"/></label></legend>
          <table><tr>
            <td>
              <label for="centerX">Center X: <input id="centerX" type="number" onclick="mastermold.update(this)"/></label>
              <br/>
              <label for="centerY">Center Y: <input id="centerY" type="number" onclick="mastermold.update(this)"/></label>
              <br/>
              <label for="radius">Radius: <input id="radius" type="number" onclick="mastermold.update(this)"/></label>
              <br/>
              <label for="size">Size: <select id="size" onchange="mastermold.update(this)">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
              </select></label>
              <br/>
              <label for="frameColor">Frame Color: <input id="frameColor" type="color"/><button onclick="mastermold.update(this)">Update Frame Color</button></label>
            </td>
            <td>
              <div id="selected"></div>
            </td>
            <td>
              <div id="frame"></div>
            </td>
          </tr></table>
          <br/>
        </fieldset>
      </div>
    </div>
    <div id="print"></div>
  </body>
</html>
